import{showLoadingToast as b,closeToast as x,showSuccessToast as k,showFailToast as h}from"vant";import{useRouter as y}from"vue-router";import{d as C,k as V,b as d,r as n,o as N,c as T,a as t,g as s,w as a,h as L,F as S,_ as B}from"./index-7a5bb6f9.js";const F={class:"set-login"},U={class:"set-login-cont"},q={class:"mt-2 flex items-center justify-between text-sm text-gray-600"},E=["onClick"],R=["onClick"],j={style:{margin:"16px"}},I=C({__name:"NewLogin",setup(P){const m=V(),r=y(),i=d("admin"),u=d("123456"),p=()=>{r.go(-1)},f=async l=>{console.log("submit",l);const e=await m.login(l);b({message:"登录中...",forbidClick:!0}),setTimeout(()=>{x(),e?(k("登录成功"),r.push({path:"/home/index"})):h("用户名或密码错误，请重试后登录！")},1e3)};return(l,e)=>{const v=n("van-nav-bar"),c=n("van-field"),_=n("router-link"),g=n("van-button"),w=n("van-form");return N(),T(S,null,[t(v,{title:"登录","left-text":"返回","left-arrow":"",onClickLeft:p}),s("div",F,[s("div",U,[t(w,{onSubmit:f},{default:a(()=>[t(c,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),t(c,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),s("div",q,[t(_,{to:"/newRegister",custom:""},{default:a(({navigate:o})=>[s("a",{onClick:o},"还没有注册？",8,E)]),_:1}),t(_,{to:"/forgetPwd",custom:""},{default:a(({navigate:o})=>[s("a",{onClick:o},"忘记密码？",8,R)]),_:1})]),s("div",j,[t(g,{round:"",block:"",type:"primary","native-type":"submit"},{default:a(()=>[...e[2]||(e[2]=[L("登录",-1)])]),_:1})])]),_:1})])])],64)}}});const G=B(I,[["__scopeId","data-v-78ba225e"]]);export{G as default};
