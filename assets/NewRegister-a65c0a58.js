import{u as p,_ as c}from"./index-b3ca3edb.js";import"./vendor-c46cc583.js";import"vue";const _={class:"set-login"},v={class:"set-login-cont"},g={style:{margin:"16px"}},w=Vue.defineComponent({__name:"NewRegister",setup(f){const r=p(),n=VueRouter.useRouter(),o=Vue.reactive({username:"",password:"",secret:"",passwordAgain:""}),l=()=>{n.go(-1)},u=async s=>{let e=await r.register(s);vant.showLoadingToast({message:"注册中...",forbidClick:!0}),setTimeout(()=>{vant.closeToast(),e?(vant.showSuccessToast("注册成功，请登录"),n.push({path:"/newLogin"})):vant.showFailToast("用户名已存在，请修改后重新提交！")},1e3)},d=s=>s==o.password;return(s,e)=>{const m=Vue.resolveComponent("van-nav-bar"),a=Vue.resolveComponent("van-field"),i=Vue.resolveComponent("van-button"),V=Vue.resolveComponent("van-form");return Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(m,{title:"注册","left-text":"返回","left-arrow":"",onClickLeft:l}),Vue.createElementVNode("div",_,[Vue.createElementVNode("div",v,[Vue.createVNode(V,{onSubmit:u},{default:Vue.withCtx(()=>[Vue.createVNode(a,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),Vue.createVNode(a,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=t=>o.password=t),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),Vue.createElementVNode("div",null,[Vue.createVNode(a,{modelValue:o.passwordAgain,"onUpdate:modelValue":e[2]||(e[2]=t=>o.passwordAgain=t),type:"password",name:"passwordAgain",label:"密码确认",placeholder:"再次输入密码",rules:[{required:!0,message:"请确认密码"},{validator:d,message:"请输入正确密码"}]},null,8,["modelValue","rules"]),Vue.createVNode(a,{modelValue:o.secret,"onUpdate:modelValue":e[3]||(e[3]=t=>o.secret=t),type:"secret",name:"secret",label:"暗号",placeholder:"请输入暗号",rules:[{required:!0,message:"请填写暗号"}]},null,8,["modelValue"])]),Vue.createElementVNode("div",g,[Vue.createVNode(i,{round:"",block:"",type:"info","native-type":"submit"},{default:Vue.withCtx(()=>[...e[4]||(e[4]=[Vue.createTextVNode("注册",-1)])]),_:1})])]),_:1})])])],64)}}});const y=c(w,[["__scopeId","data-v-773500fb"]]);export{y as default};
