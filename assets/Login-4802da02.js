import{_ as g,u as v,b,d as h,t as V,r as l,o as y,c as S,a as o,w as a,h as c,T as r,l as d,p as k,m as I}from"./index-ff975386.js";const x={name:"",components:{},setup(e,{root:t}){const p=v(),u=b(),m=h({username:"",password:""}),_=async s=>{console.log("submit",s);let n=await u.dispatch("login",s);r.loading({message:"登录中...",forbidClick:!0}),setTimeout(()=>{r.clear(),n?(r.success("登录成功"),p.push({path:"/Home/Index"})):r.fail("用户名或密码错误，请重试后登录！")},1e3)};return{...V(m),onSubmit:_}}},C=e=>(k("data-v-e675a637"),e=e(),I(),e),T={class:"wsw-login"},B={class:"wsw-login-body"},N=C(()=>c("div",{class:"wsw-login-footer"},"Copyright © 移应2018-1-21吴尚尉",-1));function R(e,t,p,u,m,_){const s=l("router-link"),n=l("van-field"),f=l("van-button"),w=l("van-form");return y(),S("div",T,[o(s,{tag:"span",to:"/",class:"wsw-login-title"},{default:a(()=>[d("饿了么")]),_:1}),c("div",B,[o(w,{onSubmit:u.onSubmit},{default:a(()=>[o(n,{modelValue:e.username,"onUpdate:modelValue":t[0]||(t[0]=i=>e.username=i),name:"username",label:"账号",placeholder:"请输入账号",rules:[{required:!0,message:"请填写账号"}]},null,8,["modelValue"]),o(n,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=i=>e.password=i),type:"password",name:"password",label:"密码",placeholder:"请输入密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),c("div",null,[o(s,{to:"/Register",tag:"a"},{default:a(()=>[d("还没有注册？")]),_:1}),o(s,{to:"/ForgetPwd",tag:"a",class:"wsw-r"},{default:a(()=>[d("忘记密码？")]),_:1})]),o(f,{round:"",block:"",plain:"",type:"info","native-type":"submit",color:"#ed9428"},{default:a(()=>[d("登录")]),_:1})]),_:1},8,["onSubmit"])]),N])}const q=g(x,[["render",R],["__scopeId","data-v-e675a637"]]);export{q as default};
