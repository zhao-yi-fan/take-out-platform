import{_ as I,q,u as T,b as i,m as D,e as F,r as c,o as r,c as v,a as d,w as J,f as n,g as y,h as O,n as R,F as U,i as A,t as u}from"./index-8c543468.js";import{u as E}from"./shopStore-7ff5636c.js";const M={class:"classification"},$={class:"classification-list"},j=["onClick"],z=["src"],G={class:"l"},H={class:"clearfix"},K={class:"l fb"},P={class:"clearfix"},Q={class:"l f12"},W={class:"l f12"},X={class:"r f12 red fb"},Y={__name:"Classification",setup(Z){const _=E(),k=q(),h=T(),m=i(_.baseAddress.code);let p=D([]);const x=i(""),l=i(0),f=i(0);F(()=>{C(k.query.classificationId)});const g=[{text:"全部",value:0},{text:"美食",value:1},{text:"饮品",value:2},{text:"甜品",value:3},{text:"鲜花",value:4},{text:"下午茶",value:5},{text:"超市",value:6},{text:"药品",value:7},{text:"买菜",value:8}],V=[{text:"默认排序",value:0},{text:"好评排序",value:1},{text:"起送费排序",value:2}],S=()=>{h.go(-1)},b=s=>{h.push({path:"/Commodity_details",query:{shopsId:s}})},C=s=>{let e=_.shopsList.filter((t,o)=>t.addressCode==m);f.value=0,l.value=Number(s),x.value=g[s].text,p=s?e.filter((t,o)=>t.classificationType==s):e},w=s=>{console.log(s,"排序");let e=JSON.parse(JSON.stringify(_.shopsList));e=e.filter((t,o)=>t.addressCode==m),l&&(e=e.filter((t,o)=>t.classificationType==l.value)),s==1?e.sort((t,o)=>o.score-t.score):s==2&&e.sort((t,o)=>t.freight-o.freight),e=e};return(s,e)=>{const t=c("van-nav-bar"),o=c("van-dropdown-item"),L=c("van-dropdown-menu"),N=c("van-empty");return r(),v("div",M,[d(t,{title:x.value,"left-text":"返回","left-arrow":"",onClickLeft:S},null,8,["title"]),d(L,null,{default:J(()=>[d(o,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),options:g,onChange:C},null,8,["modelValue"]),d(o,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=a=>f.value=a),options:V,onChange:w},null,8,["modelValue"])]),_:1}),n("div",$,[y(p).length==0?(r(),O(N,{key:0,description:"暂无商铺"})):R("",!0),(r(!0),v(U,null,A(y(p),(a,B)=>(r(),v("div",{class:"classification-list-item clearfix",key:B,onClick:ee=>b(a.shopsId)},[n("img",{src:a.shopsImage,alt:"",srcset:"",class:"l"},null,8,z),n("div",G,[n("p",H,[n("span",K,u(a.shopsName),1)]),n("p",P,[n("span",Q,"起送："+u(a.shopsStart),1),n("span",W,"运费："+u(a.freight),1),n("span",X,u(a.score),1)])])],8,j))),128))])])}}},oe=I(Y,[["__scopeId","data-v-983c1021"]]);export{oe as default};
