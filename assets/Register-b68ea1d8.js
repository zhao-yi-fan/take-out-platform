import{_ as w,u as v,b as V,d as b,t as y,r as n,o as S,c as h,a,w as d,h as c,T as u,l as m,p as k,m as q}from"./index-09841709.js";const A={name:"",components:{},setup(e,{root:s}){const _=v(),l=V(),i=b({username:"",password:"",secret:"",passwordAgain:""}),g=async o=>{console.log("submit",o);let p=await l.dispatch("register",o);u.loading({message:"注册中...",forbidClick:!0}),setTimeout(()=>{u.clear(),p?(u.success("注册成功，请登录"),_.push({path:"/Login"}),console.log(l.state.userList)):u.fail("用户名已存在，请修改后重新提交！")},1e3)},r=o=>o==i.password;return{...y(i),onSubmit:g,Validator:r}}},C=e=>(k("data-v-63cf045d"),e=e(),q(),e),I={class:"wsw-login"},R={class:"wsw-login-body"},T=C(()=>c("div",{class:"wsw-login-footer"},"Copyright © 移应2018-1-21吴尚尉",-1));function U(e,s,_,l,i,g){const r=n("router-link"),o=n("van-field"),p=n("van-button"),f=n("van-form");return S(),h("div",I,[a(r,{tag:"span",to:"/",class:"wsw-login-title"},{default:d(()=>[m("饿了么")]),_:1}),c("div",R,[a(f,{onSubmit:l.onSubmit},{default:d(()=>[a(o,{modelValue:e.username,"onUpdate:modelValue":s[0]||(s[0]=t=>e.username=t),name:"username",label:"账号",placeholder:"请输入账号",rules:[{required:!0,message:"请填写账号"}]},null,8,["modelValue"]),a(o,{modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=t=>e.password=t),type:"password",name:"password",label:"新密码",placeholder:"请输入新密码",rules:[{required:!0,message:"请填写新密码"}]},null,8,["modelValue"]),a(o,{modelValue:e.passwordAgain,"onUpdate:modelValue":s[2]||(s[2]=t=>e.passwordAgain=t),type:"password",name:"passwordAgain",label:"密码确认",placeholder:"再次输入密码",rules:[{required:!0,message:"请确认密码"},{validator:l.Validator,message:"请输入正确密码"}]},null,8,["modelValue","rules"]),a(o,{modelValue:e.secret,"onUpdate:modelValue":s[3]||(s[3]=t=>e.secret=t),type:"secret",name:"secret",label:"暗号",placeholder:"请输入暗号",rules:[{required:!0,message:"请填写暗号"}]},null,8,["modelValue"]),c("div",null,[a(r,{to:"/Login",tag:"a",class:"wsw-r"},{default:d(()=>[m("返回")]),_:1})]),a(p,{round:"",block:"",plain:"",type:"info","native-type":"submit",color:"#ed9428"},{default:d(()=>[m("注册")]),_:1})]),_:1},8,["onSubmit"])]),T])}const L=w(A,[["render",U],["__scopeId","data-v-63cf045d"]]);export{L as default};
