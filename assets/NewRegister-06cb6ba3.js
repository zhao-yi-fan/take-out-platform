import{_ as f,l as V,u as b,m as y,r as n,o as x,c as k,a as o,f as r,w as u,F as N,y as h,z as C,x as i,j as S}from"./index-8c543468.js";const T={class:"set-login"},U={class:"set-login-cont"},q={style:{margin:"16px"}},A={__name:"NewRegister",setup(L){const m=V(),d=b(),s=y({username:"",password:"",secret:"",passwordAgain:""}),p=()=>{d.go(-1)},c=async t=>{let e=await m.register(t);h({message:"注册中...",forbidClick:!0}),setTimeout(()=>{C(),e?(i("注册成功，请登录"),d.push({path:"/newLogin"})):i("用户名已存在，请修改后重新提交！")},1e3)},_=t=>t==s.password;return(t,e)=>{const g=n("van-nav-bar"),l=n("van-field"),v=n("van-button"),w=n("van-form");return x(),k(N,null,[o(g,{title:"注册","left-text":"返回","left-arrow":"",onClickLeft:p}),r("div",T,[r("div",U,[o(w,{onSubmit:c},{default:u(()=>[o(l,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=a=>s.username=a),name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),o(l,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=a=>s.password=a),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),r("div",null,[o(l,{modelValue:s.passwordAgain,"onUpdate:modelValue":e[2]||(e[2]=a=>s.passwordAgain=a),type:"password",name:"passwordAgain",label:"密码确认",placeholder:"再次输入密码",rules:[{required:!0,message:"请确认密码"},{validator:_,message:"请输入正确密码"}]},null,8,["modelValue","rules"]),o(l,{modelValue:s.secret,"onUpdate:modelValue":e[3]||(e[3]=a=>s.secret=a),type:"secret",name:"secret",label:"暗号",placeholder:"请输入暗号",rules:[{required:!0,message:"请填写暗号"}]},null,8,["modelValue"])]),r("div",q,[o(v,{round:"",block:"",type:"info","native-type":"submit"},{default:u(()=>[S("注册")]),_:1})])]),_:1})])])],64)}}},B=f(A,[["__scopeId","data-v-25d4e47e"]]);export{B as default};
