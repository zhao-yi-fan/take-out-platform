import{defineComponent as b,ref as m,resolveComponent as n,openBlock as x,createElementBlock as k,Fragment as h,createVNode as t,createElementVNode as s,withCtx as a,createTextVNode as y}from"vue";import{u as C,k as V,l as N,m as T,j as L}from"./vendor-f4352496.js";import{u as S,_ as E}from"./index-51626640.js";const U={class:"set-login"},j={class:"set-login-cont"},q={class:"mt-2 flex items-center justify-between text-sm text-gray-600"},B=["onClick"],F=["onClick"],R={style:{margin:"16px"}},I=b({__name:"NewLogin",setup(P){const d=S(),r=C(),i=m("admin"),u=m("123456"),p=()=>{r.go(-1)},f=async l=>{console.log("submit",l);const e=await d.login(l);V({message:"登录中...",forbidClick:!0}),setTimeout(()=>{N(),e?(T("登录成功"),r.push({path:"/home/index"})):L("用户名或密码错误，请重试后登录！")},1e3)};return(l,e)=>{const v=n("van-nav-bar"),c=n("van-field"),_=n("router-link"),g=n("van-button"),w=n("van-form");return x(),k(h,null,[t(v,{title:"登录","left-text":"返回","left-arrow":"",onClickLeft:p}),s("div",U,[s("div",j,[t(w,{onSubmit:f},{default:a(()=>[t(c,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),t(c,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),s("div",q,[t(_,{to:"/newRegister",custom:""},{default:a(({navigate:o})=>[s("a",{onClick:o},"还没有注册？",8,B)]),_:1}),t(_,{to:"/forgetPwd",custom:""},{default:a(({navigate:o})=>[s("a",{onClick:o},"忘记密码？",8,F)]),_:1})]),s("div",R,[t(g,{round:"",block:"",type:"primary","native-type":"submit"},{default:a(()=>[...e[2]||(e[2]=[y("登录",-1)])]),_:1})])]),_:1})])])],64)}}});const G=E(I,[["__scopeId","data-v-78ba225e"]]);export{G as default};
