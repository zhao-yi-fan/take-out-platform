import{d as f,m as v,b,n as P,r as n,o as g,c as V,a as o,h as c,w as _,i as x,F as y,y as h,z as S,A as T,x as k,_ as C}from"./index-afba73bf.js";const I={class:"set-pwd"},U={class:"set-pwd-cont"},F={style:{margin:"16px"}},q=f({__name:"SetPwd",setup(B){const l=v(),p=b(),s=P({rawPassword:"",password:"",rePassword:""}),w=()=>{p.go(-1)},i=async d=>{console.log("submit",d);let{rawPassword:e,password:u,rePassword:a}=d,m={userId:l.loginInfo.userId,rawPassword:e,password:u,rePassword:a},r=await l.setPwd(m);h({message:"正在修改密码请稍候...",forbidClick:!0}),setTimeout(()=>{S(),r.code==1?(T("修改密码成功，请您重新登录"),l.setLoginInfo(null),p.push("/Home/User")):k(r.msg)},2e3)};return(d,e)=>{const u=n("van-nav-bar"),a=n("van-field"),m=n("van-button"),r=n("van-form");return g(),V(y,null,[o(u,{title:"修改密码","left-text":"返回","left-arrow":"",onClickLeft:w}),c("div",I,[c("div",U,[o(r,{onSubmit:i},{default:_(()=>[o(a,{modelValue:s.rawPassword,"onUpdate:modelValue":e[0]||(e[0]=t=>s.rawPassword=t),name:"rawPassword",label:"原密码",placeholder:"原密码",rules:[{required:!0,message:"请填写原密码"}]},null,8,["modelValue"]),o(a,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),o(a,{modelValue:s.rePassword,"onUpdate:modelValue":e[2]||(e[2]=t=>s.rePassword=t),type:"password",name:"rePassword",label:"重新输入密码",placeholder:"重新输入密码",rules:[{required:!0,message:"请再次填写密码"}]},null,8,["modelValue"]),c("div",F,[o(m,{round:"",block:"",type:"info","native-type":"submit"},{default:_(()=>[x("提交")]),_:1})])]),_:1})])])],64)}}});const N=C(q,[["__scopeId","data-v-19a204db"]]);export{N as default};
