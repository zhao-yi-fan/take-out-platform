import{d as f,m as v,b as P,n as b,r as n,o as g,c as V,a as o,h as m,w as _,i as x,F as y,y as h,z as T,A as k,x as C,_ as I}from"./index-60e0fd6e.js";const F={class:"set-pwd"},S={class:"set-pwd-cont"},U={style:{margin:"16px"}},q=f({__name:"setPwd",setup(B){const d=v(),p=P(),s=b({rawPassword:"",password:"",rePassword:""}),w=()=>{p.go(-1)},i=async l=>{console.log("submit",l);const{rawPassword:e,password:u,rePassword:a}=l,c={userId:d.loginInfo.userId,rawPassword:e,password:u,rePassword:a},r=await d.setPwd(c);h({message:"正在修改密码请稍候...",forbidClick:!0}),setTimeout(()=>{T(),r.code==1?(k("修改密码成功，请您重新登录"),d.setLoginInfo(null),p.push("/home/user")):C(r.msg)},2e3)};return(l,e)=>{const u=n("van-nav-bar"),a=n("van-field"),c=n("van-button"),r=n("van-form");return g(),V(y,null,[o(u,{title:"修改密码","left-text":"返回","left-arrow":"",onClickLeft:w}),m("div",F,[m("div",S,[o(r,{onSubmit:i},{default:_(()=>[o(a,{modelValue:s.rawPassword,"onUpdate:modelValue":e[0]||(e[0]=t=>s.rawPassword=t),name:"rawPassword",label:"原密码",placeholder:"原密码",rules:[{required:!0,message:"请填写原密码"}]},null,8,["modelValue"]),o(a,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),o(a,{modelValue:s.rePassword,"onUpdate:modelValue":e[2]||(e[2]=t=>s.rePassword=t),type:"password",name:"rePassword",label:"重新输入密码",placeholder:"重新输入密码",rules:[{required:!0,message:"请再次填写密码"}]},null,8,["modelValue"]),m("div",U,[o(c,{round:"",block:"",type:"info","native-type":"submit"},{default:_(()=>[x("提交")]),_:1})])]),_:1})])])],64)}}});const N=I(q,[["__scopeId","data-v-437e8e69"]]);export{N as default};
