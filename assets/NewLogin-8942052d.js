import{_ as g,u as w,b as k,d as V,t as h,r as n,o as y,c as C,a as e,h as r,w as d,F as x,T as i,l as _}from"./index-09841709.js";const L={name:"",components:{},setup(o,{root:t}){const u=w(),a=k(),p=V({username:"",password:""}),f=()=>{u.go(-1)},c=async s=>{console.log("submit",s);let l=await a.dispatch("login",s);i.loading({message:"登录中...",forbidClick:!0}),setTimeout(()=>{i.clear(),l?(i.success("登录成功"),u.push({path:"/Home/Index"})):i.fail("用户名或密码错误，请重试后登录！")},1e3)};return{...h(p),onSubmit:c,onClickLeft:f}}},N={class:"set-login"},S={class:"set-login-cont"},T={style:{margin:"16px"}};function B(o,t,u,a,p,f){const c=n("van-nav-bar"),s=n("van-field"),l=n("router-link"),b=n("van-button"),v=n("van-form");return y(),C(x,null,[e(c,{title:"登录","left-text":"返回","left-arrow":"",onClickLeft:a.onClickLeft},null,8,["onClickLeft"]),r("div",N,[r("div",S,[e(v,{onSubmit:a.onSubmit},{default:d(()=>[e(s,{modelValue:o.username,"onUpdate:modelValue":t[0]||(t[0]=m=>o.username=m),name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),e(s,{modelValue:o.password,"onUpdate:modelValue":t[1]||(t[1]=m=>o.password=m),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),r("div",null,[e(l,{to:"/newRegister",tag:"a"},{default:d(()=>[_("还没有注册？")]),_:1}),e(l,{to:"/newForgetPwd",tag:"a",class:"wsw-r"},{default:d(()=>[_("忘记密码？")]),_:1})]),r("div",T,[e(b,{round:"",block:"",type:"info","native-type":"submit"},{default:d(()=>[_("登录")]),_:1})])]),_:1},8,["onSubmit"])])])],64)}const R=g(L,[["render",B],["__scopeId","data-v-bbfa044d"]]);export{R as default};
