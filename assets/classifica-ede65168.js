import{d as I,v as q,b as T,e as c,n as D,g as F,r as i,o as r,c as v,a as d,w as J,h as n,u as C,j as O,q as R,F as U,k as j,t as u,_ as A}from"./index-e29b0745.js";import{u as E}from"./shopStore-fdf5285b.js";const M={class:"classification"},$={class:"classification-list"},z=["onClick"],G=["src"],H={class:"l"},K={class:"clearfix"},P={class:"l fb"},Q={class:"clearfix"},W={class:"l f12"},X={class:"l f12"},Y={class:"r f12 red fb"},Z=I({__name:"classifica",setup(ee){const _=E(),k=q(),h=T(),m=c(_.baseAddress.code);let p=D([]);const x=c(""),l=c(0),f=c(0);F(()=>{y(k.query.classificationId)});const g=[{text:"全部",value:0},{text:"美食",value:1},{text:"饮品",value:2},{text:"甜品",value:3},{text:"鲜花",value:4},{text:"下午茶",value:5},{text:"超市",value:6},{text:"药品",value:7},{text:"买菜",value:8}],V=[{text:"默认排序",value:0},{text:"好评排序",value:1},{text:"起送费排序",value:2}],S=()=>{h.go(-1)},b=s=>{h.push({path:"/Commodity_details",query:{shopsId:s}})},y=s=>{const e=_.shopsList.filter((t,o)=>t.addressCode==m.value);f.value=0,l.value=Number(s),x.value=g[s].text,p=s?e.filter((t,o)=>t.classificationType==s):e},w=s=>{console.log(s,"排序");let e=JSON.parse(JSON.stringify(_.shopsList));e=e.filter((t,o)=>t.addressCode==m.value),l.value&&(e=e.filter((t,o)=>t.classificationType==l.value)),s==1?e.sort((t,o)=>o.score-t.score):s==2&&e.sort((t,o)=>t.freight-o.freight),e=e};return(s,e)=>{const t=i("van-nav-bar"),o=i("van-dropdown-item"),N=i("van-dropdown-menu"),L=i("van-empty");return r(),v("div",M,[d(t,{title:x.value,"left-text":"返回","left-arrow":"",onClickLeft:S},null,8,["title"]),d(N,null,{default:J(()=>[d(o,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),options:g,onChange:y},null,8,["modelValue"]),d(o,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=a=>f.value=a),options:V,onChange:w},null,8,["modelValue"])]),_:1}),n("div",$,[C(p).length==0?(r(),O(L,{key:0,description:"暂无商铺"})):R("",!0),(r(!0),v(U,null,j(C(p),(a,B)=>(r(),v("div",{key:B,class:"classification-list-item clearfix",onClick:te=>b(a.shopsId)},[n("img",{src:a.shopsImage,alt:"",srcset:"",class:"l"},null,8,G),n("div",H,[n("p",K,[n("span",P,u(a.shopsName),1)]),n("p",Q,[n("span",W,"起送："+u(a.shopsStart),1),n("span",X,"运费："+u(a.freight),1),n("span",Y,u(a.score),1)])])],8,z))),128))])])}}});const ae=A(Z,[["__scopeId","data-v-2c7dfe18"]]);export{ae as default};
