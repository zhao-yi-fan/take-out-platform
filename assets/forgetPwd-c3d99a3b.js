import{d as w,m as v,b as V,n as b,r,o as y,c as x,a,h as l,w as u,i as h,F as T,y as k,z as A,A as C,x as U,_ as q}from"./index-e29b0745.js";const P={class:"set-login"},S={class:"set-login-cont"},B={style:{margin:"16px"}},F=w({__name:"forgetPwd",setup(L){const m=v(),d=V(),s=b({username:"",password:"",passwordAgain:"",secret:""}),p=()=>{d.go(-1)},i=async t=>{const e=await m.forgetPwd(t);k({message:"修改密码中...",forbidClick:!0}),setTimeout(()=>{A(),e.code==1?(C("修改成功，请登录"),d.push({path:"/newLogin"})):U(e.msg)},1e3)},c=t=>t==s.password;return(t,e)=>{const _=r("van-nav-bar"),n=r("van-field"),f=r("van-button"),g=r("van-form");return y(),x(T,null,[a(_,{title:"忘记密码","left-text":"返回","left-arrow":"",onClickLeft:p}),l("div",P,[l("div",S,[a(g,{onSubmit:i},{default:u(()=>[a(n,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=o=>s.username=o),name:"username",label:"账号",placeholder:"请输入账号",rules:[{required:!0,message:"请填写账号"}]},null,8,["modelValue"]),a(n,{modelValue:s.secret,"onUpdate:modelValue":e[1]||(e[1]=o=>s.secret=o),type:"secret",name:"secret",label:"暗号",placeholder:"请输入暗号",rules:[{required:!0,message:"请填写暗号"}]},null,8,["modelValue"]),a(n,{modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=o=>s.password=o),type:"password",name:"password",label:"新密码",placeholder:"请输入新密码",rules:[{required:!0,message:"请填写新密码"}]},null,8,["modelValue"]),a(n,{modelValue:s.passwordAgain,"onUpdate:modelValue":e[3]||(e[3]=o=>s.passwordAgain=o),type:"password",name:"passwordAgain",label:"新密码确认",placeholder:"再次输入新密码",rules:[{required:!0,message:"请确认新密码"},{validator:c,message:"请输入正确新密码"}]},null,8,["modelValue","rules"]),l("div",B,[a(f,{round:"",block:"",type:"info","native-type":"submit"},{default:u(()=>[h("提交")]),_:1})])]),_:1})])])],64)}}});const j=q(F,[["__scopeId","data-v-20f5d91d"]]);export{j as default};
