import{_ as L,n as k,u as b,b as N,d as S,f as V,g as I,t as B,r as _,o as f,c as g,a as w,w as J,h as l,j as O,q as T,F as q,k as D,i as h}from"./index-09841709.js";const R={name:"",components:{},setup(r,{root:c}){const x=k(),i=b(),d=N(),s=S({value1:0,value2:0,text:"",classificationId:x.query.classificationId||null,shopsList:[],districtCode:V(()=>d.state.baseAddress.code)});I(()=>{e(s.classificationId)});const p=[{text:"全部",value:0},{text:"美食",value:1},{text:"饮品",value:2},{text:"甜品",value:3},{text:"鲜花",value:4},{text:"下午茶",value:5},{text:"超市",value:6},{text:"药品",value:7},{text:"买菜",value:8}],u=[{text:"默认排序",value:0},{text:"好评排序",value:1},{text:"起送费排序",value:2}],v=()=>{i.go(-1)},m=o=>{i.push({path:"/Commodity_details",query:{shopsId:o}})},e=o=>{var n=[];let t=JSON.parse(JSON.stringify(d.state.shopsList));t=t.filter((a,y)=>a.addressCode==s.districtCode),o?t.forEach((a,y)=>{o==a.classificationType&&n.push(a)}):(console.log("a",s.shopsList),n=t),s.value2=0,s.value1=Number(o),s.text=p[o].text,s.shopsList=n},C=o=>{console.log(o,"排序");let n=JSON.parse(JSON.stringify(d.state.shopsList));n=n.filter((t,a)=>t.addressCode==s.districtCode),s.value1&&(n=n.filter((t,a)=>t.classificationType==s.value1)),o==1?n.sort((t,a)=>a.score-t.score):o==2&&n.sort((t,a)=>t.freight-a.freight),s.shopsList=n};return{...B(s),option1:p,option2:u,onClickLeft:v,toDetail:m,changeType:e,changeSort:C}}},E={class:"wsw-Classification"},F={class:"wsw-Classification-list"},U=["onClick"],j=["src"],A={class:"wsw-l"},M={class:"wsw-clearfix"},z={class:"wsw-l wsw-fb"},G={class:"wsw-clearfix"},H={class:"wsw-l wsw-f12"},K={class:"wsw-l wsw-f12"},P={class:"wsw-r wsw-f12 wsw-red wsw-fb"};function Q(r,c,x,i,d,s){const p=_("van-nav-bar"),u=_("van-dropdown-item"),v=_("van-dropdown-menu"),m=_("van-empty");return f(),g("div",E,[w(p,{title:r.text,"left-text":"返回","left-arrow":"",onClickLeft:i.onClickLeft},null,8,["title","onClickLeft"]),w(v,null,{default:J(()=>[w(u,{modelValue:r.value1,"onUpdate:modelValue":c[0]||(c[0]=e=>r.value1=e),options:i.option1,onChange:i.changeType},null,8,["modelValue","options","onChange"]),w(u,{modelValue:r.value2,"onUpdate:modelValue":c[1]||(c[1]=e=>r.value2=e),options:i.option2,onChange:i.changeSort},null,8,["modelValue","options","onChange"])]),_:1}),l("div",F,[r.shopsList.length==0?(f(),O(m,{key:0,description:"暂无商铺"})):T("",!0),(f(!0),g(q,null,D(r.shopsList,(e,C)=>(f(),g("div",{class:"wsw-Classification-list-item wsw-clearfix",key:C,onClick:o=>i.toDetail(e.shopsId)},[l("img",{src:e.shopsImage,alt:"",srcset:"",class:"wsw-l"},null,8,j),l("div",A,[l("p",M,[l("span",z,h(e.shopsName),1)]),l("p",G,[l("span",H,"起送："+h(e.shopsStart),1),l("span",K,"运费："+h(e.freight),1),l("span",P,h(e.score),1)])])],8,U))),128))])])}const X=L(R,[["render",Q],["__scopeId","data-v-b6917166"]]);export{X as default};
