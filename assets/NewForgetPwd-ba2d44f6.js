import{_ as g,u as w,b as v,d as b,t as V,r as d,o as y,c as k,a,h as c,w as _,F as C,T as u,l as L}from"./index-09841709.js";const h={name:"",components:{},setup(e,{root:o}){const i=w(),t=v(),m=b({username:"",password:"",passwordAgain:"",secret:""}),f=()=>{i.go(-1)},p=async l=>{console.log("submit",l);let r=await t.dispatch("forgetPwd",l);u.loading({message:"修改密码中...",forbidClick:!0}),setTimeout(()=>{u.clear(),r.code==1?(u.success("修改成功，请登录"),i.push({path:"/newLogin"}),console.log(t.state.userList)):u.fail(r.msg)},1e3)},n=l=>l==m.password;return{...V(m),onSubmit:p,Validator:n,onClickLeft:f}}},N={class:"set-login"},S={class:"set-login-cont"},q={style:{margin:"16px"}};function A(e,o,i,t,m,f){const p=d("van-nav-bar"),n=d("van-field"),l=d("van-button"),r=d("van-form");return y(),k(C,null,[a(p,{title:"忘记密码","left-text":"返回","left-arrow":"",onClickLeft:t.onClickLeft},null,8,["onClickLeft"]),c("div",N,[c("div",S,[a(r,{onSubmit:t.onSubmit},{default:_(()=>[a(n,{modelValue:e.username,"onUpdate:modelValue":o[0]||(o[0]=s=>e.username=s),name:"username",label:"账号",placeholder:"请输入账号",rules:[{required:!0,message:"请填写账号"}]},null,8,["modelValue"]),a(n,{modelValue:e.secret,"onUpdate:modelValue":o[1]||(o[1]=s=>e.secret=s),type:"secret",name:"secret",label:"暗号",placeholder:"请输入暗号",rules:[{required:!0,message:"请填写暗号"}]},null,8,["modelValue"]),a(n,{modelValue:e.password,"onUpdate:modelValue":o[2]||(o[2]=s=>e.password=s),type:"password",name:"password",label:"新密码",placeholder:"请输入新密码",rules:[{required:!0,message:"请填写新密码"}]},null,8,["modelValue"]),a(n,{modelValue:e.passwordAgain,"onUpdate:modelValue":o[3]||(o[3]=s=>e.passwordAgain=s),type:"password",name:"passwordAgain",label:"新密码确认",placeholder:"再次输入新密码",rules:[{required:!0,message:"请确认新密码"},{validator:t.Validator,message:"请输入正确新密码"}]},null,8,["modelValue","rules"]),c("div",q,[a(l,{round:"",block:"",type:"info","native-type":"submit"},{default:_(()=>[L("提交")]),_:1})])]),_:1},8,["onSubmit"])])])],64)}const T=g(h,[["render",A],["__scopeId","data-v-c77638e0"]]);export{T as default};
