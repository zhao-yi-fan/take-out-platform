import{u as _,_ as p}from"./index-84aac008.js";import"./vendor-7ce8fbae.js";const v={class:"set-login"},f={class:"set-login-cont"},g={class:"mt-2 flex items-center justify-between text-sm text-gray-600"},w=["onClick"],N=["onClick"],x={style:{margin:"16px"}},C=Vue.defineComponent({__name:"NewLogin",setup(b){const r=_(),n=VueRouter.useRouter(),s=Vue.ref("admin"),a=Vue.ref("123456"),c=()=>{n.go(-1)},d=async o=>{console.log("submit",o);const e=await r.login(o);vant.showLoadingToast({message:"登录中...",forbidClick:!0}),setTimeout(()=>{vant.closeToast(),e?(vant.showSuccessToast("登录成功"),n.push({path:"/home/index"})):vant.showFailToast("用户名或密码错误，请重试后登录！")},1e3)};return(o,e)=>{const i=Vue.resolveComponent("van-nav-bar"),u=Vue.resolveComponent("van-field"),l=Vue.resolveComponent("router-link"),m=Vue.resolveComponent("van-button"),V=Vue.resolveComponent("van-form");return Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(i,{title:"登录","left-text":"返回","left-arrow":"",onClickLeft:c}),Vue.createElementVNode("div",v,[Vue.createElementVNode("div",f,[Vue.createVNode(V,{onSubmit:d},{default:Vue.withCtx(()=>[Vue.createVNode(u,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t),name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),Vue.createVNode(u,{modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value=t),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),Vue.createElementVNode("div",g,[Vue.createVNode(l,{to:"/newRegister",custom:""},{default:Vue.withCtx(({navigate:t})=>[Vue.createElementVNode("a",{onClick:t},"还没有注册？",8,w)]),_:1}),Vue.createVNode(l,{to:"/forgetPwd",custom:""},{default:Vue.withCtx(({navigate:t})=>[Vue.createElementVNode("a",{onClick:t},"忘记密码？",8,N)]),_:1})]),Vue.createElementVNode("div",x,[Vue.createVNode(m,{round:"",block:"",type:"primary","native-type":"submit"},{default:Vue.withCtx(()=>[...e[2]||(e[2]=[Vue.createTextVNode("登录",-1)])]),_:1})])]),_:1})])])],64)}}});const y=p(C,[["__scopeId","data-v-78ba225e"]]);export{y as default};
