import{d as b,l as x,b as h,e as d,r as n,o as k,c as y,a as t,h as s,w as a,i as C,F as V,v as N,x as T,y as L,q as S,_ as q}from"./index-2b792c60.js";const B={class:"set-login"},F={class:"set-login-cont"},U={class:"mt-2 flex items-center justify-between text-sm text-gray-600"},E=["onClick"],R=["onClick"],j={style:{margin:"16px"}},I=b({__name:"NewLogin",setup(P){const m=x(),r=h(),i=d("admin"),u=d("123456"),p=()=>{r.go(-1)},v=async l=>{console.log("submit",l);const e=await m.login(l);N({message:"登录中...",forbidClick:!0}),setTimeout(()=>{T(),e?(L("登录成功"),r.push({path:"/home/index"})):S("用户名或密码错误，请重试后登录！")},1e3)};return(l,e)=>{const f=n("van-nav-bar"),c=n("van-field"),_=n("router-link"),g=n("van-button"),w=n("van-form");return k(),y(V,null,[t(f,{title:"登录","left-text":"返回","left-arrow":"",onClickLeft:p}),s("div",B,[s("div",F,[t(w,{onSubmit:v},{default:a(()=>[t(c,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),t(c,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),s("div",U,[t(_,{to:"/newRegister",custom:""},{default:a(({navigate:o})=>[s("a",{onClick:o},"还没有注册？",8,E)]),_:1}),t(_,{to:"/forgetPwd",custom:""},{default:a(({navigate:o})=>[s("a",{onClick:o},"忘记密码？",8,R)]),_:1})]),s("div",j,[t(g,{round:"",block:"",type:"primary","native-type":"submit"},{default:a(()=>[...e[2]||(e[2]=[C("登录",-1)])]),_:1})])]),_:1})])])],64)}}});const A=q(I,[["__scopeId","data-v-78ba225e"]]);export{A as default};
