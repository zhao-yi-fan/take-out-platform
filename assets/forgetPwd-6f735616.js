import{_ as v,l as b,u as V,m as y,r,o as x,c as k,a,f as n,w as u,F as h,y as C,z as T,x as m,j as U}from"./index-efe56b65.js";const q={class:"set-login"},A={class:"set-login-cont"},L={style:{margin:"16px"}},P={__name:"forgetPwd",setup(S){const c=b(),d=V(),s=y({username:"",password:"",passwordAgain:"",secret:""}),i=()=>{d.go(-1)},p=async t=>{let e=await c.forgetPwd(t);C({message:"修改密码中...",forbidClick:!0}),setTimeout(()=>{T(),e.code==1?(m("修改成功，请登录"),d.push({path:"/newLogin"})):m(e.msg)},1e3)},_=t=>t==s.password;return(t,e)=>{const f=r("van-nav-bar"),l=r("van-field"),g=r("van-button"),w=r("van-form");return x(),k(h,null,[a(f,{title:"忘记密码","left-text":"返回","left-arrow":"",onClickLeft:i}),n("div",q,[n("div",A,[a(w,{onSubmit:p},{default:u(()=>[a(l,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=o=>s.username=o),name:"username",label:"账号",placeholder:"请输入账号",rules:[{required:!0,message:"请填写账号"}]},null,8,["modelValue"]),a(l,{modelValue:s.secret,"onUpdate:modelValue":e[1]||(e[1]=o=>s.secret=o),type:"secret",name:"secret",label:"暗号",placeholder:"请输入暗号",rules:[{required:!0,message:"请填写暗号"}]},null,8,["modelValue"]),a(l,{modelValue:s.password,"onUpdate:modelValue":e[2]||(e[2]=o=>s.password=o),type:"password",name:"password",label:"新密码",placeholder:"请输入新密码",rules:[{required:!0,message:"请填写新密码"}]},null,8,["modelValue"]),a(l,{modelValue:s.passwordAgain,"onUpdate:modelValue":e[3]||(e[3]=o=>s.passwordAgain=o),type:"password",name:"passwordAgain",label:"新密码确认",placeholder:"再次输入新密码",rules:[{required:!0,message:"请确认新密码"},{validator:_,message:"请输入正确新密码"}]},null,8,["modelValue","rules"]),n("div",L,[a(g,{round:"",block:"",type:"info","native-type":"submit"},{default:u(()=>[U("提交")]),_:1})])]),_:1})])])],64)}}},F=v(P,[["__scopeId","data-v-33cc7f4b"]]);export{F as default};
