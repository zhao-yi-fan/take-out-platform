import{B as r,m as n,s as i}from"./index-60e0fd6e.js";const d=r("collection",{state:()=>({collectionList:[{collectionId:1,userId:1,shopsIds:[2,3]}]}),getters:{},actions:{setCollectionList(s){this.collectionList=s},isCollection(s){const e=n();if(!e.isLogin)return!1;const o=this.collectionList.find(t=>t.userId===e.loginInfo.userId);return o?o.shopsIds.includes(s):!1},addCollection(s){const e=n();if(!e.isLogin){i("请先登录");return}const o=this.collectionList.find(t=>t.userId===e.loginInfo.userId);o?o.shopsIds.includes(s.shopId)?(o.shopsIds=o.shopsIds.filter(t=>t!==s.shopId),i("取消收藏")):(o.shopsIds.push(s.shopId),i("收藏成功")):(this.collectionList.push({collectionId:this.collectionList.length+1,userId:e.loginInfo.userId,shopsIds:[s.shopId]}),i("收藏成功"))}},persist:!0});export{d as u};
