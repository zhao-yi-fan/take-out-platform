import{d as I,v as q,b as T,e as i,n as D,g as F,r as c,o as r,c as v,a as d,w as J,h as a,u as y,j as O,q as R,F as U,k as j,t as u,_ as A}from"./index-101ea70f.js";import{u as E}from"./shopStore-6fa85401.js";const M={class:"classification"},$={class:"classification-list"},z=["onClick"],G=["src"],H={class:"l"},K={class:"clearfix"},P={class:"l fb"},Q={class:"clearfix"},W={class:"l f12"},X={class:"l f12"},Y={class:"r f12 red fb"},Z=I({__name:"Classification",setup(ee){const _=E(),k=q(),h=T(),m=i(_.baseAddress.code);let p=D([]);const x=i(""),l=i(0),f=i(0);F(()=>{C(k.query.classificationId)});const g=[{text:"全部",value:0},{text:"美食",value:1},{text:"饮品",value:2},{text:"甜品",value:3},{text:"鲜花",value:4},{text:"下午茶",value:5},{text:"超市",value:6},{text:"药品",value:7},{text:"买菜",value:8}],V=[{text:"默认排序",value:0},{text:"好评排序",value:1},{text:"起送费排序",value:2}],S=()=>{h.go(-1)},b=s=>{h.push({path:"/Commodity_details",query:{shopsId:s}})},C=s=>{let e=_.shopsList.filter((t,o)=>t.addressCode==m);f.value=0,l.value=Number(s),x.value=g[s].text,p=s?e.filter((t,o)=>t.classificationType==s):e},w=s=>{console.log(s,"排序");let e=JSON.parse(JSON.stringify(_.shopsList));e=e.filter((t,o)=>t.addressCode==m),l&&(e=e.filter((t,o)=>t.classificationType==l.value)),s==1?e.sort((t,o)=>o.score-t.score):s==2&&e.sort((t,o)=>t.freight-o.freight),e=e};return(s,e)=>{const t=c("van-nav-bar"),o=c("van-dropdown-item"),N=c("van-dropdown-menu"),L=c("van-empty");return r(),v("div",M,[d(t,{title:x.value,"left-text":"返回","left-arrow":"",onClickLeft:S},null,8,["title"]),d(N,null,{default:J(()=>[d(o,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=n=>l.value=n),options:g,onChange:C},null,8,["modelValue"]),d(o,{modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=n=>f.value=n),options:V,onChange:w},null,8,["modelValue"])]),_:1}),a("div",$,[y(p).length==0?(r(),O(L,{key:0,description:"暂无商铺"})):R("",!0),(r(!0),v(U,null,j(y(p),(n,B)=>(r(),v("div",{class:"classification-list-item clearfix",key:B,onClick:te=>b(n.shopsId)},[a("img",{src:n.shopsImage,alt:"",srcset:"",class:"l"},null,8,G),a("div",H,[a("p",K,[a("span",P,u(n.shopsName),1)]),a("p",Q,[a("span",W,"起送："+u(n.shopsStart),1),a("span",X,"运费："+u(n.freight),1),a("span",Y,u(n.score),1)])])],8,z))),128))])])}}});const ne=A(Z,[["__scopeId","data-v-5f485f6c"]]);export{ne as default};
