import{_ as g,u as v,b as w,d as b,t as V,r,o as y,c as k,a,h as d,w as _,F as C,T as u,l as L}from"./index-09841709.js";const S={name:"",components:{},setup(e,{root:s}){const i=v(),t=w(),m=b({username:"",password:"",secret:"",passwordAgain:""}),f=()=>{i.go(-1)},c=async l=>{console.log("submit",l);let p=await t.dispatch("register",l);u.loading({message:"注册中...",forbidClick:!0}),setTimeout(()=>{u.clear(),p?(u.success("注册成功，请登录"),i.push({path:"/newLogin"}),console.log(t.state.userList)):u.fail("用户名已存在，请修改后重新提交！")},1e3)},n=l=>l==m.password;return{...V(m),onSubmit:c,Validator:n,onClickLeft:f}}},h={class:"set-login"},N={class:"set-login-cont"},q={style:{margin:"16px"}};function A(e,s,i,t,m,f){const c=r("van-nav-bar"),n=r("van-field"),l=r("van-button"),p=r("van-form");return y(),k(C,null,[a(c,{title:"注册","left-text":"返回","left-arrow":"",onClickLeft:t.onClickLeft},null,8,["onClickLeft"]),d("div",h,[d("div",N,[a(p,{onSubmit:t.onSubmit},{default:_(()=>[a(n,{modelValue:e.username,"onUpdate:modelValue":s[0]||(s[0]=o=>e.username=o),name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),a(n,{modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=o=>e.password=o),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),d("div",null,[a(n,{modelValue:e.passwordAgain,"onUpdate:modelValue":s[2]||(s[2]=o=>e.passwordAgain=o),type:"password",name:"passwordAgain",label:"密码确认",placeholder:"再次输入密码",rules:[{required:!0,message:"请确认密码"},{validator:t.Validator,message:"请输入正确密码"}]},null,8,["modelValue","rules"]),a(n,{modelValue:e.secret,"onUpdate:modelValue":s[3]||(s[3]=o=>e.secret=o),type:"secret",name:"secret",label:"暗号",placeholder:"请输入暗号",rules:[{required:!0,message:"请填写暗号"}]},null,8,["modelValue"])]),d("div",q,[a(l,{round:"",block:"",type:"info","native-type":"submit"},{default:_(()=>[L("注册")]),_:1})])]),_:1},8,["onSubmit"])])])],64)}const T=g(S,[["render",A],["__scopeId","data-v-a63cc2f8"]]);export{T as default};
