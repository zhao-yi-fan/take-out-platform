import{defineComponent as b,ref as d,resolveComponent as n,openBlock as x,createElementBlock as h,Fragment as k,createVNode as t,createElementVNode as s,withCtx as a,createTextVNode as y}from"vue";import{a as C,u as V,_ as N}from"./index-391e1562.js";import{g as T,h as L,i as S,f as E}from"./vendor-27337327.js";const U={class:"set-login"},q={class:"set-login-cont"},B={class:"mt-2 flex items-center justify-between text-sm text-gray-600"},F=["onClick"],R=["onClick"],j={style:{margin:"16px"}},I=b({__name:"NewLogin",setup(P){const m=C(),r=V(),i=d("admin"),u=d("123456"),p=()=>{r.go(-1)},f=async l=>{console.log("submit",l);const e=await m.login(l);T({message:"登录中...",forbidClick:!0}),setTimeout(()=>{L(),e?(S("登录成功"),r.push({path:"/home/index"})):E("用户名或密码错误，请重试后登录！")},1e3)};return(l,e)=>{const v=n("van-nav-bar"),c=n("van-field"),_=n("router-link"),g=n("van-button"),w=n("van-form");return x(),h(k,null,[t(v,{title:"登录","left-text":"返回","left-arrow":"",onClickLeft:p}),s("div",U,[s("div",q,[t(w,{onSubmit:f},{default:a(()=>[t(c,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),t(c,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),s("div",B,[t(_,{to:"/newRegister",custom:""},{default:a(({navigate:o})=>[s("a",{onClick:o},"还没有注册？",8,F)]),_:1}),t(_,{to:"/forgetPwd",custom:""},{default:a(({navigate:o})=>[s("a",{onClick:o},"忘记密码？",8,R)]),_:1})]),s("div",j,[t(g,{round:"",block:"",type:"primary","native-type":"submit"},{default:a(()=>[...e[2]||(e[2]=[y("登录",-1)])]),_:1})])]),_:1})])])],64)}}});const G=N(I,[["__scopeId","data-v-78ba225e"]]);export{G as default};
