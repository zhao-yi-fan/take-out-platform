import{d as x,m as h,b as V,e as m,r as t,o as y,c as k,a as e,h as s,w as a,i as r,F as N,y as T,z as C,A as L,x as S,_ as B}from"./index-60e0fd6e.js";const F={class:"set-login"},U={class:"set-login-cont"},q={style:{margin:"16px"}},E=x({__name:"NewLogin",setup(R){const p=h(),u=V(),d=m(""),i=m(""),f=()=>{u.go(-1)},v=async n=>{console.log("submit",n);const o=await p.login(n);T({message:"登录中...",forbidClick:!0}),setTimeout(()=>{C(),o?(L("登录成功"),u.push({path:"/home/index"})):S("用户名或密码错误，请重试后登录！")},1e3)};return(n,o)=>{const g=t("van-nav-bar"),_=t("van-field"),c=t("router-link"),w=t("van-button"),b=t("van-form");return y(),k(N,null,[e(g,{title:"登录","left-text":"返回","left-arrow":"",onClickLeft:f}),s("div",F,[s("div",U,[e(b,{onSubmit:v},{default:a(()=>[e(_,{modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=l=>d.value=l),name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),e(_,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=l=>i.value=l),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),s("div",null,[e(c,{to:"/newRegister",tag:"a"},{default:a(()=>[r("还没有注册？")]),_:1}),e(c,{to:"/forgetPwd",tag:"a",class:"r"},{default:a(()=>[r("忘记密码？")]),_:1})]),s("div",q,[e(w,{round:"",block:"",type:"info","native-type":"submit"},{default:a(()=>[r("登录")]),_:1})])]),_:1})])])],64)}}});const A=B(E,[["__scopeId","data-v-2d7f784a"]]);export{A as default};
