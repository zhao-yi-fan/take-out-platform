import{_ as P,u as g,b as V,d as k,t as y,r as n,o as S,c as C,a as r,h as p,w as f,F as I,T as l,l as h}from"./index-09841709.js";const L={name:"",components:{},setup(e,{root:o}){const d=g(),t=V(),c=k({rawPassword:"",password:"",rePassword:""}),w=()=>{d.go(-1)},u=async a=>{console.log("submit",a);let{rawPassword:m,password:i,rePassword:s}=a,{loginInfo:v}=t.state,b={userId:v.userId,rawPassword:m,password:i,rePassword:s},_=await t.dispatch("setPwd",b);l.loading({message:"正在修改密码请稍候...",forbidClick:!0}),setTimeout(()=>{l.clear(),_.code==1?(l.success("修改密码成功，请您重新登录"),t.commit("SET_LOGIN_INFO",null),d.push("/Home/User")):l.fail(_.msg)},2e3)};return{...y(c),onClickLeft:w,onSubmit:u}}},N={class:"set-pwd"},T={class:"set-pwd-cont"},F={style:{margin:"16px"}};function U(e,o,d,t,c,w){const u=n("van-nav-bar"),a=n("van-field"),m=n("van-button"),i=n("van-form");return S(),C(I,null,[r(u,{title:"修改密码","left-text":"返回","left-arrow":"",onClickLeft:t.onClickLeft},null,8,["onClickLeft"]),p("div",N,[p("div",T,[r(i,{onSubmit:t.onSubmit},{default:f(()=>[r(a,{modelValue:e.rawPassword,"onUpdate:modelValue":o[0]||(o[0]=s=>e.rawPassword=s),name:"rawPassword",label:"原密码",placeholder:"原密码",rules:[{required:!0,message:"请填写原密码"}]},null,8,["modelValue"]),r(a,{modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=s=>e.password=s),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),r(a,{modelValue:e.rePassword,"onUpdate:modelValue":o[2]||(o[2]=s=>e.rePassword=s),type:"password",name:"rePassword",label:"重新输入密码",placeholder:"重新输入密码",rules:[{required:!0,message:"请再次填写密码"}]},null,8,["modelValue"]),p("div",F,[r(m,{round:"",block:"",type:"info","native-type":"submit"},{default:f(()=>[h("提交")]),_:1})])]),_:1},8,["onSubmit"])])])],64)}const B=P(L,[["render",U],["__scopeId","data-v-4e2352d4"]]);export{B as default};
