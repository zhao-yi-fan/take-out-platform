import{d as f,l as v,b as P,m as b,r as n,o as g,c as V,a as o,h as p,w,i as x,F as y,v as h,x as T,y as k,q as C,_ as I}from"./index-2b792c60.js";const q={class:"set-pwd"},F={class:"set-pwd-cont"},S={style:{margin:"16px"}},U=f({__name:"setPwd",setup(B){const l=v(),c=P(),s=b({rawPassword:"",password:"",rePassword:""}),i=()=>{c.go(-1)},_=async d=>{console.log("submit",d);const{rawPassword:e,password:u,rePassword:a}=d,m={userId:l.loginInfo.userId,rawPassword:e,password:u,rePassword:a},r=await l.setPwd(m);h({message:"正在修改密码请稍候...",forbidClick:!0}),setTimeout(()=>{T(),r.code==1?(k("修改密码成功，请您重新登录"),l.setLoginInfo(null),c.push("/home/user")):C(r.msg)},2e3)};return(d,e)=>{const u=n("van-nav-bar"),a=n("van-field"),m=n("van-button"),r=n("van-form");return g(),V(y,null,[o(u,{title:"修改密码","left-text":"返回","left-arrow":"",onClickLeft:i}),p("div",q,[p("div",F,[o(r,{onSubmit:_},{default:w(()=>[o(a,{modelValue:s.rawPassword,"onUpdate:modelValue":e[0]||(e[0]=t=>s.rawPassword=t),name:"rawPassword",label:"原密码",placeholder:"原密码",rules:[{required:!0,message:"请填写原密码"}]},null,8,["modelValue"]),o(a,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),o(a,{modelValue:s.rePassword,"onUpdate:modelValue":e[2]||(e[2]=t=>s.rePassword=t),type:"password",name:"rePassword",label:"重新输入密码",placeholder:"重新输入密码",rules:[{required:!0,message:"请再次填写密码"}]},null,8,["modelValue"]),p("div",S,[o(m,{round:"",block:"",type:"info","native-type":"submit"},{default:w(()=>[...e[3]||(e[3]=[x("提交",-1)])]),_:1})])]),_:1})])])],64)}}});const N=I(U,[["__scopeId","data-v-437e8e69"]]);export{N as default};
