import{d as N,v as B,b as I,e as i,f as q,g as T,r,o as u,c as f,a as d,u as D,w as F,h as a,j as J,q as O,F as R,k as U,t as p,_ as $}from"./index-60e0fd6e.js";import{u as j}from"./shopStore-0463a4aa.js";const A={class:"classification"},E={class:"classification-list"},M=["onClick"],z=["src"],G={class:"l"},H={class:"clearfix"},K={class:"l fb"},P={class:"clearfix"},Q={class:"l f12"},W={class:"l f12"},X={class:"r f12 red fb"},Y=N({name:"classification",__name:"classifica",setup(Z){const _=j(),y=B(),m=I(),h=i(_.baseAddress.code),c=i([]),l=i(0),v=i(0),C=q(()=>{var s;return(s=x.find(e=>e.value==l.value))==null?void 0:s.text});T(()=>{g(y.query.classificationId)});const x=[{text:"全部",value:0},{text:"美食",value:1},{text:"饮品",value:2},{text:"甜品",value:3},{text:"鲜花",value:4},{text:"下午茶",value:5},{text:"超市",value:6},{text:"药品",value:7},{text:"买菜",value:8}],k=[{text:"默认排序",value:0},{text:"好评排序",value:1},{text:"起送费排序",value:2}],V=s=>{m.push({path:"/Commodity_details",query:{shopsId:s}})},g=s=>{console.log(typeof s,"分类"),v.value=0,c.value=(_.shopsList||[]).filter((e,o)=>e.addressCode==h.value&&e.classificationType==s)},S=s=>{console.log(s,"排序");let e=JSON.parse(JSON.stringify(_.shopsList));e=e.filter((o,n)=>o.addressCode==h.value),l.value&&(e=e.filter((o,n)=>o.classificationType==l.value)),s==1?(console.log(e,"shopsList1==="),e.sort((o,n)=>n.score-o.score)):s==2&&e.sort((o,n)=>o.freight-n.freight),c.value=e};return(s,e)=>{const o=r("van-nav-bar"),n=r("van-dropdown-item"),w=r("van-dropdown-menu"),L=r("van-empty");return u(),f("div",A,[d(o,{title:C.value,"left-text":"返回","left-arrow":"",onClickLeft:e[0]||(e[0]=t=>D(m).go(-1))},null,8,["title"]),d(w,null,{default:F(()=>[d(n,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value=t),options:x,onChange:g},null,8,["modelValue"]),d(n,{modelValue:v.value,"onUpdate:modelValue":e[2]||(e[2]=t=>v.value=t),options:k,onChange:S},null,8,["modelValue"])]),_:1}),a("div",E,[c.value.length==0?(u(),J(L,{key:0,description:"暂无商铺"})):O("",!0),(u(!0),f(R,null,U(c.value,(t,b)=>(u(),f("div",{key:b,class:"classification-list-item clearfix",onClick:ee=>V(t.shopsId)},[a("img",{src:t.shopsImage,alt:"",srcset:"",class:"l"},null,8,z),a("div",G,[a("p",H,[a("span",K,p(t.shopsName),1)]),a("p",P,[a("span",Q,"起送："+p(t.shopsStart),1),a("span",W,"运费："+p(t.freight),1),a("span",X,p(t.score),1)])])],8,M))),128))])])}}});const oe=$(Y,[["__scopeId","data-v-c62e3a68"]]);export{oe as default};
