import{_ as v,l as P,u as b,m as g,r as l,o as V,c as x,a as o,f as _,w as p,F as y,y as S,z as k,x as i,j as h}from"./index-8c543468.js";const C={class:"set-pwd"},I={class:"set-pwd-cont"},T={style:{margin:"16px"}},U={__name:"SetPwd",setup(F){const n=P(),c=b(),s=g({rawPassword:"",password:"",rePassword:""}),w=()=>{c.go(-1)},f=async d=>{console.log("submit",d);let{rawPassword:e,password:u,rePassword:a}=d,m={userId:n.loginInfo.userId,rawPassword:e,password:u,rePassword:a},r=await n.setPwd(m);S({message:"正在修改密码请稍候...",forbidClick:!0}),setTimeout(()=>{k(),r.code==1?(i("修改密码成功，请您重新登录"),n.setLoginInfo(null),c.push("/Home/User")):i(r.msg)},2e3)};return(d,e)=>{const u=l("van-nav-bar"),a=l("van-field"),m=l("van-button"),r=l("van-form");return V(),x(y,null,[o(u,{title:"修改密码","left-text":"返回","left-arrow":"",onClickLeft:w}),_("div",C,[_("div",I,[o(r,{onSubmit:f},{default:p(()=>[o(a,{modelValue:s.rawPassword,"onUpdate:modelValue":e[0]||(e[0]=t=>s.rawPassword=t),name:"rawPassword",label:"原密码",placeholder:"原密码",rules:[{required:!0,message:"请填写原密码"}]},null,8,["modelValue"]),o(a,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),o(a,{modelValue:s.rePassword,"onUpdate:modelValue":e[2]||(e[2]=t=>s.rePassword=t),type:"password",name:"rePassword",label:"重新输入密码",placeholder:"重新输入密码",rules:[{required:!0,message:"请再次填写密码"}]},null,8,["modelValue"]),_("div",T,[o(m,{round:"",block:"",type:"info","native-type":"submit"},{default:p(()=>[h("提交")]),_:1})])]),_:1})])])],64)}}},q=v(U,[["__scopeId","data-v-f7f4d873"]]);export{q as default};
