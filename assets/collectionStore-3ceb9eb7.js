import{d as n}from"./vendor-c46cc583.js";import{u as i}from"./index-b3ca3edb.js";const d=n("collection",{state:()=>({collectionList:[{collectionId:1,userId:1,shopsIds:[2,3]}]}),getters:{},actions:{setCollectionList(s){this.collectionList=s},isCollection(s){const t=i();if(!t.isLogin)return!1;const o=this.collectionList.find(e=>e.userId===t.loginInfo.userId);return o?o.shopsIds.includes(s):!1},addCollection(s){const t=i();if(!t.isLogin){vant.showToast("请先登录");return}const o=this.collectionList.find(e=>e.userId===t.loginInfo.userId);o?o.shopsIds.includes(s.shopId)?(o.shopsIds=o.shopsIds.filter(e=>e!==s.shopId),vant.showToast("取消收藏")):(o.shopsIds.push(s.shopId),vant.showToast("收藏成功")):(this.collectionList.push({collectionId:this.collectionList.length+1,userId:t.loginInfo.userId,shopsIds:[s.shopId]}),vant.showToast("收藏成功"))}},persist:!0});export{d as u};
