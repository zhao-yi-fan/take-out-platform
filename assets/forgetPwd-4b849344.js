import{u as c,_ as i}from"./index-84aac008.js";import"./vendor-7ce8fbae.js";const _={class:"set-login"},v={class:"set-login-cont"},f={style:{margin:"16px"}},g=Vue.defineComponent({__name:"forgetPwd",setup(w){const r=c(),n=VueRouter.useRouter(),o=Vue.reactive({username:"",password:"",passwordAgain:"",secret:""}),l=()=>{n.go(-1)},u=async s=>{const e=await r.forgetPwd(s);vant.showLoadingToast({message:"修改密码中...",forbidClick:!0}),setTimeout(()=>{vant.closeToast(),e.code==1?(vant.showSuccessToast("修改成功，请登录"),n.push({path:"/newLogin"})):vant.showFailToast(e.msg)},1e3)},d=s=>s==o.password;return(s,e)=>{const m=Vue.resolveComponent("van-nav-bar"),a=Vue.resolveComponent("van-field"),p=Vue.resolveComponent("van-button"),V=Vue.resolveComponent("van-form");return Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(m,{title:"忘记密码","left-text":"返回","left-arrow":"",onClickLeft:l}),Vue.createElementVNode("div",_,[Vue.createElementVNode("div",v,[Vue.createVNode(V,{onSubmit:u},{default:Vue.withCtx(()=>[Vue.createVNode(a,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=t=>o.username=t),name:"username",label:"账号",placeholder:"请输入账号",rules:[{required:!0,message:"请填写账号"}]},null,8,["modelValue"]),Vue.createVNode(a,{modelValue:o.secret,"onUpdate:modelValue":e[1]||(e[1]=t=>o.secret=t),type:"secret",name:"secret",label:"暗号",placeholder:"请输入暗号",rules:[{required:!0,message:"请填写暗号"}]},null,8,["modelValue"]),Vue.createVNode(a,{modelValue:o.password,"onUpdate:modelValue":e[2]||(e[2]=t=>o.password=t),type:"password",name:"password",label:"新密码",placeholder:"请输入新密码",rules:[{required:!0,message:"请填写新密码"}]},null,8,["modelValue"]),Vue.createVNode(a,{modelValue:o.passwordAgain,"onUpdate:modelValue":e[3]||(e[3]=t=>o.passwordAgain=t),type:"password",name:"passwordAgain",label:"新密码确认",placeholder:"再次输入新密码",rules:[{required:!0,message:"请确认新密码"},{validator:d,message:"请输入正确新密码"}]},null,8,["modelValue","rules"]),Vue.createElementVNode("div",f,[Vue.createVNode(p,{round:"",block:"",type:"info","native-type":"submit"},{default:Vue.withCtx(()=>[...e[4]||(e[4]=[Vue.createTextVNode("提交",-1)])]),_:1})])]),_:1})])])],64)}}});const x=i(g,[["__scopeId","data-v-20f5d91d"]]);export{x as default};
