import{defineComponent as b,ref as _,resolveComponent as s,openBlock as x,createElementBlock as k,Fragment as h,createVNode as t,createElementVNode as n,withCtx as a,createTextVNode as y}from"vue";import{showLoadingToast as C,closeToast as V,showSuccessToast as N,showFailToast as T}from"vant";import{useRouter as L}from"vue-router";import{u as S,_ as E}from"./index-eda9c641.js";import"./vendor-aa74e335.js";const U={class:"set-login"},q={class:"set-login-cont"},B={class:"mt-2 flex items-center justify-between text-sm text-gray-600"},F=["onClick"],R=["onClick"],j={style:{margin:"16px"}},I=b({__name:"NewLogin",setup(P){const d=S(),r=L(),i=_("admin"),u=_("123456"),p=()=>{r.go(-1)},f=async l=>{console.log("submit",l);const e=await d.login(l);C({message:"登录中...",forbidClick:!0}),setTimeout(()=>{V(),e?(N("登录成功"),r.push({path:"/home/index"})):T("用户名或密码错误，请重试后登录！")},1e3)};return(l,e)=>{const v=s("van-nav-bar"),m=s("van-field"),c=s("router-link"),g=s("van-button"),w=s("van-form");return x(),k(h,null,[t(v,{title:"登录","left-text":"返回","left-arrow":"",onClickLeft:p}),n("div",U,[n("div",q,[t(w,{onSubmit:f},{default:a(()=>[t(m,{modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value=o),name:"username",label:"账号",placeholder:"账号",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),t(m,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value=o),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"]),n("div",B,[t(c,{to:"/newRegister",custom:""},{default:a(({navigate:o})=>[n("a",{onClick:o},"还没有注册？",8,F)]),_:1}),t(c,{to:"/forgetPwd",custom:""},{default:a(({navigate:o})=>[n("a",{onClick:o},"忘记密码？",8,R)]),_:1})]),n("div",j,[t(g,{round:"",block:"",type:"primary","native-type":"submit"},{default:a(()=>[...e[2]||(e[2]=[y("登录",-1)])]),_:1})])]),_:1})])])],64)}}});const J=E(I,[["__scopeId","data-v-78ba225e"]]);export{J as default};
